# run from mcpeachpies_power_juices:juicer/check

# setup for the following checks
data modify storage mpp_pj_juicer:temp/juicer Items set from block ~ ~ ~ Items
execute store result score $slot_count mpp_pj_data run data get storage mpp_pj_juicer:temp/juicer Items

scoreboard players set $recipe_success mpp_pj_data 0

# recipes (excluding Beer and Con. Cactus Juice ) NOTE ITEM STACK COUNT
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 2 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:apple",Count:2b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 2 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:golden_apple",Count:1b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 2 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:enchanted_golden_apple",Count:1b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 2 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:carrot",Count:3b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 2 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:golden_carrot",Count:1b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 2 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:melon",Count:5b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 2 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:glistering_melon_slice",Count:2b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 3 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:pumpkin",Count:2b},{Slot:1b,id:"minecraft:sugar",Count:1b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 4 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:pumpkin",Count:2b},{Slot:1b,id: "minecraft:glowstone_dust", Count: 1b}, {Slot: 2b, id: "minecraft:sugar", Count: 1b}, {Slot: 4b, id: "minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 2 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:cactus",Count:3b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 3 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:cactus",Count:3b},{Slot:1b,id:"minecraft:potion",tag:{Potion:"mcpeachpies_power_juices:cactus_juice",CustomPotionColor:11523706,custom_potion_effects:[{id:'minecraft:fire_resistance',duration:1800},{id:'minecraft:saturation',amplifier:1}]},Count:1b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 2 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:beetroot",Count:4b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 3 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:beetroot",Count:8b},{Slot:1b,id:"minecraft:milk_bucket",Count:1b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 2 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:chorus_fruit",Count:3b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 2 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:popped_chorus_fruit",Count:3b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 4 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:red_mushroom",Count:3b},{Slot:1b,id:"minecraft:brown_mushroom",Count:3b},{Slot:2b,id:"minecraft:fermented_spider_eye",Count:3b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 4 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:milk_bucket",Count:1b},{Slot:1b,id:"minecraft:cocoa_beans",Count:1b},{Slot:2b,id:"minecraft:sugar",Count:1b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8
execute if score $recipe_success mpp_pj_data matches 0 store success score $recipe_success mpp_pj_data if score $slot_count mpp_pj_data matches 3 if data storage mpp_pj_juicer:temp/juicer {Items:[{Slot:0b,id:"minecraft:kelp",Count:8b},{Slot:1b,id:"minecraft:seagrass",Count:4b},{Slot:4b,id:"minecraft:glass_bottle",Count:1b}]} unless score @s mpp_pj_data matches 0..8 run scoreboard players set @s mpp_pj_data 8

# clean up
data remove storage mpp_pj_juicer:temp/juicer Items

execute if score @s mpp_pj_data matches 0..8 at @s run function mcpeachpies_power_juices:juicer/animation/check